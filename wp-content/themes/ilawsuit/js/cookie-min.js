!function(t,e){"use strict";"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Cookie=e()}(this,function(){"use strict";var t=encodeURIComponent,e=decodeURIComponent,n;function r(t){return!isNaN(parseFloat(t))&&isFinite(t)}function o(t,e){if(t instanceof Array)return t.concat(e);var n={},r;for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function i(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}return{createCookieString:function(e,n,o,i){i=i||{};var u=t(e)+"="+(o?t(n):n),s=i.expires,f=i.path||"/",a=i.domain;if("object"==typeof i){if(s instanceof Date)u+="; expires="+s.toUTCString();else if(r(s)){var c=new Date;c.setDate(c.getDate()+s),u+="; expires="+c.toUTCString()}"string"==typeof f&&""!==f&&(u+="; path="+f),"string"==typeof a&&""!==a&&(u+="; domain="+a),!0===i.secure&&(u+="; secure")}return u},createCookieHashString:function(e){if("object"!=typeof e)return"";var n=[];return i(e,function(e,r){"function"!=typeof r&&void 0!==r&&n.push(t(e)+"="+t(String(r)))}),n.join("&")},parseCookieHash:function(t){var n=t.split("&"),r=null,o={};if(t.length)for(var i=0,u=n.length;i<u;i++)r=n[i].split("="),o[e(r[0])]=e(r[1]);return o},parseCookieString:function(t,n,r){var o={};if("string"==typeof t&&t.length>0)for(var i=!1===n?function(t){return t}:e,u=t.split(/;\s/g),s=null,f=null,a=null,c=0,p=u.length;c<p;c++){if((a=u[c].match(/([^=]+)=/i))instanceof Array)try{s=e(a[1]),f=i(u[c].substring(a[1].length+1))}catch(t){}else s=e(u[c]),f="";void 0!==r&&r.reverseCookieLoading?void 0===o[s]&&(o[s]=f):o[s]=f}return o},exists:function(t){return"string"==typeof t&&""!==t&&this.parseCookieString(document.cookie,!0).hasOwnProperty(t);var e},get:function(t,e){var n,r,o;return"function"==typeof e?(o=e,e={}):"object"==typeof e?o=e.converter:e={},void 0===(r=(n=this.parseCookieString(document.cookie,!e.raw,e))[t])?null:"function"==typeof o?o(r):r},getSub:function(t,e,n,r){var o=this.getSubs(t,r);return null===o?null:"string"!=typeof e||""===e?null:void 0===o[e]?null:"function"==typeof n?n(o[e]):o[e]},getSubs:function(t,e){var n=this.parseCookieString(document.cookie,!1,e);return"string"==typeof n[t]?this.parseCookieHash(n[t]):null},remove:function(t,e){return"string"!=typeof t||""===t?"":(e=o(e||{},{expires:new Date(0)}),this.set(t,"",e))},removeSub:function(t,e,n){if("string"!=typeof t||""===t)return"";if("string"!=typeof e||""===e)return"";n=n||{};var r=this.getSubs(t);if("object"==typeof r&&r.hasOwnProperty(e)){if(delete r[e],n.removeIfEmpty){for(var o in r)if(r.hasOwnProperty(o)&&"function"!=typeof r[o]&&void 0!==r[o])return this.setSubs(t,r,n);return this.remove(t,n)}return this.setSubs(t,r,n)}return""},set:function(t,e,n){if("string"!=typeof t||""===t)return null;if(void 0===e)return null;n=n||{};var r=this.createCookieString(t,e,!n.raw,n);return document.cookie=r,r},setSub:function(t,e,n,r){if("string"!=typeof t||""===t)return"";if("string"!=typeof e||""===e)return"";if(void 0===n)return"";var o=this.getSubs(t);return o||(o={}),o[e]=n,this.setSubs(t,o,r)},setSubs:function(t,e,n){if("string"!=typeof t||""===t)return"";if("object"!=typeof e)return"";var r=this.createCookieString(t,this.createCookieHashString(e),!1,n);return document.cookie=r,r},enabled:function(){if(navigator.cookieEnabled)return!0;var t="_",e="_",n=!1;return this.set("_","_"),"_"===this.get("_")&&(n=!0,this.remove("_")),n},clear:function(){for(var t=document.cookie.split(";"),e=0;e<t.length;e++){var n=t[e],r=n.indexOf("="),o=r>-1?n.substr(0,r):n;document.cookie=o+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}}});